(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{181:function(e,t,a){},184:function(e,t,a){"use strict";a.r(t);var n,r,c,i,o=a(0),s=a.n(o),l=a(21),j=a.n(l),d=a(241),u=a(243),b=a(245),O=new u.a({uri:"/graphql/",cache:new b.a,credentials:"include"}),h=a(153),m=a(31),x=a(17),f=a(247),v=a(249),p=Object(f.a)(n||(n=Object(x.a)(["\n  query me {\n    me {\n      _id\n      firstName\n      lastName\n      email\n    }\n  }\n"]))),g=a(7),y=a(232),k=a(233),N=a(234),C=a(223),w=a(5),B=a(26),A=a.n(B),S=a(35),_=a(252),I=a(219),$=a(242),q=Object(f.a)(r||(r=Object(x.a)(["\n  mutation addAuthor($data: AuthorInput!) {\n    addAuthor(data: $data) {\n      _id\n      email\n    }\n  }\n"]))),E=Object(f.a)(c||(c=Object(x.a)(["\n  mutation updateAuthor($data: AuthorInput!) {\n    updateAuthor(data: $data) {\n      _id\n      email\n    }\n  }\n"]))),F=Object(f.a)(i||(i=Object(x.a)(["\n  query getAllAuthors {\n    getAllAuthors {\n      _id\n      firstName\n      lastName\n      email\n    }\n  }\n"]))),H=function(){var e=Object(v.a)(F),t=e.data;e.error;return t},W=a(1);var T,L=function(e){var t=Object(o.useState)(e.firstName?e.firstName:""),a=Object(g.a)(t,2),n=a[0],r=a[1],c=Object(o.useState)(e.lastName?e.lastName:""),i=Object(g.a)(c,2),s=i[0],l=i[1],j=Object(o.useState)(e.email?e.email:""),d=Object(g.a)(j,2),u=d[0],b=d[1],O=Object(_.a)(q,{refetchQueries:[{query:F}]}),h=Object(g.a)(O,1)[0],m=Object(_.a)(E,{refetchQueries:[{query:F}]}),x=Object(g.a)(m,1)[0],f=function(){var t=Object(S.a)(A.a.mark((function t(){return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,"add"!==e.method){t.next=6;break}return t.next=4,h({variables:{data:{firstName:n,lastName:s,email:u}}});case 4:t.next=9;break;case 6:if("edit"!==e.method){t.next=9;break}return t.next=9,x({variables:{data:{id:e.id,firstName:n,lastName:s,email:u}}});case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),alert(t.t0);case 14:e.onHide(),r(""),l(""),b("");case 18:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(){return t.apply(this,arguments)}}();return Object(W.jsxs)($.a,Object(w.a)(Object(w.a)({},e),{},{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(W.jsx)($.a.Header,{closeButton:!0,children:Object(W.jsxs)($.a.Title,{id:"contained-modal-title-vcenter",children:[e.method," Author"]})}),Object(W.jsxs)($.a.Body,{children:[Object(W.jsx)("h4",{children:"Author details"}),Object(W.jsx)(I.a,{value:n,placeholder:"first name",onChange:function(e){return r(e.target.value)},fullWidth:!0}),Object(W.jsx)(I.a,{value:s,placeholder:"last name",onChange:function(e){return l(e.target.value)},fullWidth:!0}),Object(W.jsx)(I.a,{value:u,placeholder:"email",onChange:function(e){return b(e.target.value)},fullWidth:!0})]}),Object(W.jsxs)($.a.Footer,{children:[Object(W.jsx)(C.a,{onClick:e.onHide,children:"Close"}),Object(W.jsx)(C.a,{onClick:function(){return f()},children:"Save"})]})]}))},Q=a(224),P=a(225),R=a(226),z=a(227),D=a(228),J=a(229),M=a(230),V=a(231),G=Object(f.a)(T||(T=Object(x.a)(["\n  mutation removeAuthor($email: String!) {\n    removeAuthor(email:$email) {\n      _id\n      email\n    }\n  }\n"]))),K=a(84),U=a.n(K),X=a(123),Y=a.n(X);var Z=function(){var e=s.a.useState(!1),t=Object(g.a)(e,2),a=t[0],n=t[1],r=Object(o.useState)(),c=Object(g.a)(r,2),i=c[0],l=c[1],j=Object(o.useState)(Object(W.jsx)(W.Fragment,{})),d=Object(g.a)(j,2),u=d[0],b=d[1],O=Object(_.a)(G,{refetchQueries:[{query:F}]}),h=Object(g.a)(O,1)[0],m=H();Object(o.useEffect)((function(){l(null===m||void 0===m?void 0:m.getAllAuthors)}),[m]);var x=function(){var e=Object(S.a)(A.a.mark((function e(t){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{h({variables:{email:t}})}catch(a){}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(Q.a,{component:P.a,children:Object(W.jsxs)(R.a,{"aria-label":"simple table",children:[Object(W.jsx)(z.a,{children:Object(W.jsxs)(D.a,{children:[Object(W.jsx)(J.a,{children:"First Name"}),Object(W.jsx)(J.a,{children:"Last Name"}),Object(W.jsx)(J.a,{children:"Email"}),Object(W.jsx)(J.a,{align:"right",children:"Actions"})]})}),Object(W.jsx)(M.a,{children:null===i||void 0===i?void 0:i.map((function(e){return Object(W.jsxs)(D.a,{children:[Object(W.jsx)(J.a,{component:"th",scope:"row",children:e.firstName}),Object(W.jsx)(J.a,{component:"th",scope:"row",children:e.lastName}),Object(W.jsx)(J.a,{component:"th",scope:"row",children:e.email}),Object(W.jsxs)(J.a,{align:"right",children:[Object(W.jsx)(V.a,{"aria-label":"delete",component:"span",onClick:function(){return x(e.email)},children:Object(W.jsx)(U.a,{})}),Object(W.jsx)(V.a,{"aria-label":"edit",component:"span",onClick:function(){return function(e){b(Object(W.jsx)(L,{id:e._id,method:"edit",firstName:e.firstName,lastName:e.lastName,email:e.email,show:!0,onHide:function(){return n(!1)}})),n(!0)}(e)},children:Object(W.jsx)(Y.a,{})})]})]},e._id)}))})]})}),a&&u]})};var ee,te,ae,ne,re=function(){var e=s.a.useState(!1),t=Object(g.a)(e,2),a=t[0],n=t[1];return Object(W.jsxs)(y.a,{children:[Object(W.jsx)(k.a,{className:"mt-5",children:Object(W.jsxs)(N.a,{xs:6,children:[Object(W.jsx)(C.a,{variant:"primary",onClick:function(){return n(!0)},children:"Add New Author"}),Object(W.jsx)(L,{method:"add",show:a,onHide:function(){return n(!1)}})]})}),Object(W.jsx)(k.a,{className:"mt-5 justify-content-md-center",children:Object(W.jsx)(N.a,{xs:12,xl:8,children:Object(W.jsx)(Z,{})})})]})},ce=a(253),ie=a(244),oe=a(255),se=Object(f.a)(ee||(ee=Object(x.a)(["\n  mutation addBook($book: BookInput!) {\n    addBook(book: $book) {\n      _id\n    }\n  }\n"]))),le=Object(f.a)(te||(te=Object(x.a)(["\n  mutation updateBook($book: BookInput!) {\n    updateBook(book: $book) {\n      _id\n    }\n  }\n"]))),je=Object(f.a)(ae||(ae=Object(x.a)(["\n  query getAllBooks {\n    getAllBooks {\n      _id\n      title\n      price\n      author{\n        _id\n        firstName\n        lastName\n        email\n      }\n      category{\n        _id\n        name\n      }\n    }\n  }\n"]))),de=function(){var e=Object(v.a)(je),t=e.data;e.error;return t},ue=Object(f.a)(ne||(ne=Object(x.a)(["\n  query getAllCategories {\n    getAllCategories {\n      _id\n      name\n    }\n  }\n"]))),be=function(){var e=Object(v.a)(ue),t=e.data;e.error;return t};var Oe=function(e){var t,a,n=Object(o.useState)(e.title?e.title:""),r=Object(g.a)(n,2),c=r[0],i=r[1],s=Object(o.useState)(e.price?e.price:0),l=Object(g.a)(s,2),j=l[0],d=l[1],u=Object(o.useState)(e.author?e.author:void 0),b=Object(g.a)(u,2),O=b[0],h=b[1],m=Object(o.useState)(e.category?e.category:void 0),x=Object(g.a)(m,2),f=x[0],v=x[1],p=Object(_.a)(se,{refetchQueries:[{query:je}]}),y=Object(g.a)(p,1)[0],k=Object(_.a)(le,{refetchQueries:[{query:je}]}),N=Object(g.a)(k,1)[0],B=null===(t=H())||void 0===t?void 0:t.getAllAuthors,q=null===(a=be())||void 0===a?void 0:a.getAllCategories,E=function(){var t=Object(S.a)(A.a.mark((function t(){return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,"add"!==e.method){t.next=6;break}return t.next=4,y({variables:{book:{title:c,price:j,authorId:null===O||void 0===O?void 0:O._id,categoryId:null===f||void 0===f?void 0:f._id}}});case 4:t.next=9;break;case 6:if("edit"!==e.method){t.next=9;break}return t.next=9,N({variables:{book:{bookId:e.id,title:c,price:j,authorId:null===O||void 0===O?void 0:O._id,categoryId:null===f||void 0===f?void 0:f._id}}});case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),alert(t.t0);case 14:e.onHide(),i(""),d(0),h(void 0),v(void 0);case 19:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(){return t.apply(this,arguments)}}();return Object(W.jsxs)($.a,Object(w.a)(Object(w.a)({},e),{},{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(W.jsx)($.a.Header,{closeButton:!0,children:Object(W.jsxs)($.a.Title,{id:"contained-modal-title-vcenter",children:[e.method," Book"]})}),Object(W.jsxs)($.a.Body,{children:[Object(W.jsx)("h4",{children:"Book details"}),Object(W.jsx)(I.a,{value:c,placeholder:"Title",onChange:function(e){return i(e.target.value)},fullWidth:!0}),Object(W.jsx)(I.a,{type:"number",value:j,placeholder:"Price",onChange:function(e){return d(parseInt(e.target.value))},fullWidth:!0}),Object(W.jsx)(ce.a,{children:"Author"}),Object(W.jsx)(ie.a,{fullWidth:!0,value:null===O||void 0===O?void 0:O._id,onChange:function(e){return h(B.find((function(t){return t._id===e.target.value})))},children:null===B||void 0===B?void 0:B.map((function(e){return Object(W.jsxs)(oe.a,{value:e._id,children:[e.firstName," ",e.lastName]},e._id)}))}),Object(W.jsx)(ce.a,{children:"Category"}),Object(W.jsx)(ie.a,{fullWidth:!0,value:null===f||void 0===f?void 0:f._id,onChange:function(e){return v(q.find((function(t){return t._id===e.target.value})))},children:null===q||void 0===q?void 0:q.map((function(e){return Object(W.jsx)(oe.a,{value:e._id,children:e.name},e._id)}))})]}),Object(W.jsxs)($.a.Footer,{children:[Object(W.jsx)(C.a,{onClick:e.onHide,children:"Close"}),Object(W.jsx)(C.a,{onClick:function(){return E()},children:"Save"})]})]}))};var he=function(){var e=s.a.useState(!1),t=Object(g.a)(e,2),a=t[0],n=t[1],r=Object(o.useState)(),c=Object(g.a)(r,2),i=c[0],l=c[1],j=Object(o.useState)(Object(W.jsx)(W.Fragment,{})),d=Object(g.a)(j,2),u=d[0],b=d[1],O=Object(_.a)(G,{refetchQueries:[{query:je}]}),h=Object(g.a)(O,1)[0],m=de();Object(o.useEffect)((function(){l(null===m||void 0===m?void 0:m.getAllBooks)}),[m]);var x=function(){var e=Object(S.a)(A.a.mark((function e(t){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{h({variables:{id:t}})}catch(a){}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(Q.a,{component:P.a,children:Object(W.jsxs)(R.a,{"aria-label":"simple table",children:[Object(W.jsx)(z.a,{children:Object(W.jsxs)(D.a,{children:[Object(W.jsx)(J.a,{children:"Title"}),Object(W.jsx)(J.a,{children:"Author"}),Object(W.jsx)(J.a,{children:"Category"}),Object(W.jsx)(J.a,{children:"Price"}),Object(W.jsx)(J.a,{align:"right",children:"Actions"})]})}),Object(W.jsx)(M.a,{children:null===i||void 0===i?void 0:i.map((function(e){return Object(W.jsxs)(D.a,{children:[Object(W.jsx)(J.a,{component:"th",scope:"row",children:e.title}),Object(W.jsxs)(J.a,{component:"th",scope:"row",children:[e.author.firstName," ",e.author.lastName]}),Object(W.jsx)(J.a,{component:"th",scope:"row",children:e.category.name}),Object(W.jsx)(J.a,{component:"th",scope:"row",children:e.price}),Object(W.jsxs)(J.a,{align:"right",children:[Object(W.jsx)(V.a,{"aria-label":"delete",component:"span",onClick:function(){return x(e._id)},children:Object(W.jsx)(U.a,{})}),Object(W.jsx)(V.a,{"aria-label":"edit",component:"span",onClick:function(){return function(e){b(Object(W.jsx)(Oe,{id:e._id,method:"edit",title:e.title,price:e.price,author:e.author,category:e.category,show:!0,onHide:function(){return n(!1)}})),n(!0)}(e)},children:Object(W.jsx)(Y.a,{})})]})]},e._id)}))})]})}),a&&u]})};var me,xe=function(){var e=s.a.useState(!1),t=Object(g.a)(e,2),a=t[0],n=t[1];return Object(W.jsxs)(y.a,{children:[Object(W.jsx)(k.a,{className:"mt-5",children:Object(W.jsxs)(N.a,{xs:6,children:[Object(W.jsx)(C.a,{variant:"primary",onClick:function(){return n(!0)},children:"Add New Book"}),Object(W.jsx)(Oe,{method:"add",show:a,onHide:function(){return n(!1)}})]})}),Object(W.jsx)(k.a,{className:"mt-5 justify-content-md-center",children:Object(W.jsx)(N.a,{xs:12,xl:8,children:Object(W.jsx)(he,{})})})]})},fe=Object(f.a)(me||(me=Object(x.a)(["\n  mutation addCategory($name: String!) {\n    addCategory(name:$name) {\n      _id\n      name\n    }\n  }\n"])));var ve,pe=function(){var e=Object(o.useState)(!1),t=Object(g.a)(e,2),a=t[0],n=t[1],r=Object(o.useState)(""),c=Object(g.a)(r,2),i=c[0],s=c[1],l=Object(_.a)(fe),j=Object(g.a)(l,1)[0];return Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(C.a,{variant:"primary",onClick:function(){return n(!0)},children:"Add new category"}),Object(W.jsxs)($.a,{show:a,size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,onHide:function(){return n(!1)},children:[Object(W.jsx)($.a.Header,{closeButton:!0,children:Object(W.jsx)($.a.Title,{id:"contained-modal-title-vcenter",children:"Add new Category"})}),Object(W.jsxs)($.a.Body,{children:[Object(W.jsx)("h4",{children:"Insert Category Name"}),Object(W.jsx)(I.a,{onChange:function(e){return s(e.target.value)},fullWidth:!0})]}),Object(W.jsxs)($.a.Footer,{children:[Object(W.jsx)(C.a,{variant:"secondary",onClick:function(){return n(!1)},children:"Close"}),Object(W.jsx)(C.a,{variant:"primary",onClick:function(){return j({variables:{name:i}}),n(!1),void window.location.reload()},children:"Save"})]})]})]})},ge=Object(f.a)(ve||(ve=Object(x.a)(["\n  mutation removeCategory($id: String!) {\n    removeCategory(id:$id) {\n      _id\n      name\n    }\n  }\n"])));var ye=function(){var e=Object(o.useState)(),t=Object(g.a)(e,2),a=t[0],n=t[1],r=Object(_.a)(ge,{refetchQueries:[{query:ue}]}),c=Object(g.a)(r,1)[0],i=be();Object(o.useEffect)((function(){n(null===i||void 0===i?void 0:i.getAllCategories)}),[i]);var s=function(){var e=Object(S.a)(A.a.mark((function e(t){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c({variables:{id:t}});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(W.jsx)(Q.a,{component:P.a,children:Object(W.jsxs)(R.a,{"aria-label":"simple table",children:[Object(W.jsx)(z.a,{children:Object(W.jsxs)(D.a,{children:[Object(W.jsx)(J.a,{children:"Name"}),Object(W.jsx)(J.a,{align:"right",children:"actions"})]})}),Object(W.jsx)(M.a,{children:null===a||void 0===a?void 0:a.map((function(e){return Object(W.jsxs)(D.a,{children:[Object(W.jsx)(J.a,{component:"th",scope:"row",children:e.name}),Object(W.jsx)(J.a,{align:"right",children:Object(W.jsx)(V.a,{"aria-label":"delete",component:"span",onClick:function(){return s(e._id)},children:Object(W.jsx)(U.a,{})})})]},e.name)}))})]})})};var ke=function(){return Object(W.jsxs)(y.a,{children:[Object(W.jsx)(k.a,{className:"mt-5",children:Object(W.jsx)(N.a,{xs:6,children:Object(W.jsx)(pe,{})})}),Object(W.jsx)(k.a,{className:"mt-5 justify-content-md-center",children:Object(W.jsx)(N.a,{xs:12,xl:8,children:Object(W.jsx)(ye,{})})})]})},Ne=a(250);var Ce=function(e){var t=e.book,a=t.author,n=t.category;return Object(W.jsxs)(Ne.a,{children:[Object(W.jsx)(Ne.a.Header,{children:t.title}),Object(W.jsxs)(Ne.a.Body,{children:[Object(W.jsxs)(Ne.a.Text,{children:["Author: ",a.firstName," ",a.lastName]}),Object(W.jsxs)(Ne.a.Text,{children:["Category: ",n.name]}),Object(W.jsxs)(Ne.a.Text,{children:["Price: ",t.price]})]})]})};var we=function(e){var t=Object(o.useState)(e.books),a=Object(g.a)(t,2),n=a[0],r=a[1];return Object(o.useEffect)((function(){r(e.books)}),[e.books]),Object(W.jsx)(y.a,{className:"mt-5",children:Object(W.jsx)(k.a,{xs:1,md:5,className:"g-4",children:(null===n||void 0===n?void 0:n.length)>0?null===n||void 0===n?void 0:n.map((function(e){return Object(W.jsx)(N.a,{children:Object(W.jsx)(Ce,{book:e})},e._id)})):Object(W.jsx)("h1",{children:"No Books Found"})})})},Be=a(236),Ae=a(256),Se=a(237),_e=Object(Be.a)((function(e){return Object(Ae.a)({formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)}})}));var Ie,$e,qe=function(e){var t=_e(),a=H(),n=be(),r=Object(o.useState)([]),c=Object(g.a)(r,2),i=c[0],s=c[1],l=Object(o.useState)([]),j=Object(g.a)(l,2),d=j[0],u=j[1],b=Object(o.useState)(""),O=Object(g.a)(b,2),h=O[0],m=O[1],x=Object(o.useState)(""),f=Object(g.a)(x,2),v=f[0],p=f[1];return Object(o.useEffect)((function(){s(null===a||void 0===a?void 0:a.getAllAuthors),u(null===n||void 0===n?void 0:n.getAllCategories)}),[a,n]),Object(W.jsxs)("div",{children:[Object(W.jsxs)(Se.a,{className:t.formControl,children:[Object(W.jsx)(ce.a,{children:"Author"}),Object(W.jsx)(ie.a,{value:h,onChange:function(t){p(""),m(t.target.value),e.filterByAuthor(t.target.value)},children:i&&(null===i||void 0===i?void 0:i.map((function(e){return Object(W.jsxs)(oe.a,{value:null===e||void 0===e?void 0:e._id,children:[e.firstName," ",e.lastName]},null===e||void 0===e?void 0:e._id)})))})]}),Object(W.jsxs)(Se.a,{className:t.formControl,children:[Object(W.jsx)(ce.a,{children:"Category"}),Object(W.jsx)(ie.a,{value:v,onChange:function(t){m(""),p(t.target.value),e.filterByCategory(t.target.value)},children:d&&(null===d||void 0===d?void 0:d.map((function(e){return Object(W.jsx)(oe.a,{value:null===e||void 0===e?void 0:e._id,children:e.name},null===e||void 0===e?void 0:e._id)})))})]})]})},Ee=Object(f.a)(Ie||(Ie=Object(x.a)(["\n  query getBooksByAuthor($authorId: String!) {\n    getBooksByAuthor(authorId: $authorId) {\n      _id\n      title\n      price\n      author{\n        _id\n        firstName\n        lastName\n        email\n      }\n      category{\n        _id\n        name\n      }\n    }\n  }\n"]))),Fe=Object(f.a)($e||($e=Object(x.a)(["\n  query getBooksByCategory($categoryId: String!) {\n    getBooksByCategory(categoryId: $categoryId) {\n      _id\n      title\n      price\n      author{\n        _id\n        firstName\n        lastName\n        email\n      }\n      category{\n        _id\n        name\n      }\n    }\n  }\n"])));var He,We=function(){var e=Object(o.useState)([]),t=Object(g.a)(e,2),a=t[0],n=t[1],r=function(e){var t=Object(v.a)(Ee,{variables:{authorId:e}}),a=t.data;return t.error,{booksByAuthor:a,loadBooksByAuthor:t.refetch}}(null),c=r.booksByAuthor,i=r.loadBooksByAuthor,s=function(e){var t=Object(v.a)(Fe,{variables:{categoryId:e}}),a=t.data;return t.error,{booksByCategory:a,loadBooksByCategory:t.refetch}}(null),l=s.booksByCategory,j=s.loadBooksByCategory,d=de();function u(){return(u=Object(S.a)(A.a.mark((function e(t){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i({authorId:t});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(){return(b=Object(S.a)(A.a.mark((function e(t){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j({categoryId:t});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(o.useEffect)((function(){n(null===d||void 0===d?void 0:d.getAllBooks)}),[d]),Object(o.useEffect)((function(){n(null===c||void 0===c?void 0:c.getBooksByAuthor)}),[null===c||void 0===c?void 0:c.getBooksByAuthor]),Object(o.useEffect)((function(){n(null===l||void 0===l?void 0:l.getBooksByCategory)}),[null===l||void 0===l?void 0:l.getBooksByCategory]),Object(W.jsxs)(y.a,{className:"mt-5",children:[Object(W.jsx)(qe,{filterByAuthor:function(e){return u.apply(this,arguments)},filterByCategory:function(e){return b.apply(this,arguments)}}),Object(W.jsx)(we,{books:a})]})},Te=a(239),Le=a(257),Qe=a(240),Pe=a(238),Re=Object(f.a)(He||(He=Object(x.a)(["\n  mutation login($email:String!,$password:String!) {\n    login(email:$email,password:$password) {\n      _id\n      firstName\n      lastName\n      email\n    }\n  }\n"]))),ze=Object(Be.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));var De,Je=function(){var e=Object(o.useState)(Object(W.jsx)(W.Fragment,{})),t=Object(g.a)(e,2),a=t[0],n=t[1],r=Object(o.useState)(""),c=Object(g.a)(r,2),i=c[0],s=c[1],l=Object(o.useState)(""),j=Object(g.a)(l,2),d=j[0],u=j[1],b=ze(),O=Object(_.a)(Re),h=Object(g.a)(O,1)[0],m=function(){var e=Object(S.a)(A.a.mark((function e(t){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,h({variables:{email:i,password:d}});case 4:window.location.replace("/"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),n(Object(W.jsx)(Pe.a,{variant:"error",children:"No user Found"}));case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(W.jsxs)(Te.a,{component:"main",maxWidth:"xs",children:[a&&a,Object(W.jsx)("div",{className:b.paper,children:Object(W.jsxs)("form",{className:b.form,noValidate:!0,onSubmit:m,children:[Object(W.jsx)(Le.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,label:"Email Address",onChange:function(e){return s(e.target.value)}}),Object(W.jsx)(Le.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,label:"Password",type:"password",onChange:function(e){return u(e.target.value)}}),Object(W.jsx)(Qe.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:b.submit,children:"Sign In"})]})})]})},Me=Object(f.a)(De||(De=Object(x.a)(["\n  mutation register($data: RegisterInput!) {\n    register(data:$data) {\n      _id\n      firstName\n      lastName\n    }\n  }\n"])));var Ve,Ge=function(){var e=Object(o.useState)(""),t=Object(g.a)(e,2),a=t[0],n=t[1],r=Object(o.useState)(""),c=Object(g.a)(r,2),i=c[0],s=c[1],l=Object(o.useState)(""),j=Object(g.a)(l,2),d=j[0],u=j[1],b=Object(o.useState)(""),O=Object(g.a)(b,2),h=O[0],m=O[1],x=Object(_.a)(Me),f=Object(g.a)(x,1)[0],v=function(){var e=Object(S.a)(A.a.mark((function e(t){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,f({variables:{data:{firstName:a,lastName:i,email:d,password:h}}});case 4:window.location.replace("/login"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),alert(e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(W.jsx)(Te.a,{component:"main",maxWidth:"xs",className:"mt-5",children:Object(W.jsxs)("form",{onSubmit:v,children:[Object(W.jsx)("h3",{children:"Register"}),Object(W.jsxs)("div",{className:"form-group",children:[Object(W.jsx)("label",{children:"First name"}),Object(W.jsx)("input",{onChange:function(e){return n(e.target.value)},value:a,type:"text",className:"form-control",placeholder:"First name"})]}),Object(W.jsxs)("div",{className:"form-group",children:[Object(W.jsx)("label",{children:"Last name"}),Object(W.jsx)("input",{onChange:function(e){return s(e.target.value)},value:i,type:"text",className:"form-control",placeholder:"Last name"})]}),Object(W.jsxs)("div",{className:"form-group",children:[Object(W.jsx)("label",{children:"Email"}),Object(W.jsx)("input",{onChange:function(e){return u(e.target.value)},value:d,type:"email",className:"form-control",placeholder:"Enter email"})]}),Object(W.jsxs)("div",{className:"form-group",children:[Object(W.jsx)("label",{children:"Password"}),Object(W.jsx)("input",{onChange:function(e){return m(e.target.value)},value:h,type:"password",className:"form-control",placeholder:"Enter password"})]}),Object(W.jsx)("button",{type:"submit",className:"btn btn-primary btn-lg btn-block mt-3 w-100",children:"Register"}),Object(W.jsxs)("p",{className:"forgot-password text-right",children:["Already registered ",Object(W.jsx)("a",{href:"/login",children:"log in?"})]})]})})},Ke=a(248),Ue=a(246),Xe=Object(f.a)(Ve||(Ve=Object(x.a)(["\n  mutation logout {\n    logout\n  }\n"])));var Ye=function(e){return Object(W.jsx)(Ue.a.Link,{style:{color:window.location.pathname===e.to?"#fff":""},href:e.to,children:e.children})};a(181);var Ze=function(e){var t=e.user;console.log(t);var a=Object(_.a)(Xe),n=Object(g.a)(a,1)[0];return Object(W.jsx)(Ke.a,{collapseOnSelect:!0,bg:"primary",variant:"dark",expand:"sm",children:Object(W.jsxs)(y.a,{children:[Object(W.jsx)(Ye,{to:"/",children:Object(W.jsx)(Ke.a.Brand,{children:"Book Store"})}),Object(W.jsx)(Ke.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(W.jsx)(Ke.a.Collapse,{id:"basic-navbar-nav",className:"justify-content-end",children:t?Object(W.jsxs)(W.Fragment,{children:[Object(W.jsxs)(Ue.a,{className:"me-auto",children:[Object(W.jsx)(Ye,{to:"/books",children:"Books"}),Object(W.jsx)(Ye,{to:"/authors",children:"Autors"}),Object(W.jsx)(Ye,{to:"/categories",children:"Categories"})]}),Object(W.jsxs)(Ue.a,{children:[Object(W.jsxs)(Ke.a.Text,{style:{color:"#fff"},children:["Hello ",null===t||void 0===t?void 0:t.firstName," ",null===t||void 0===t?void 0:t.lastName]}),Object(W.jsx)(Ue.a.Link,{color:"black",onClick:function(){return n(),void window.location.replace("/")},children:"Logout"})]})]}):Object(W.jsxs)(Ue.a,{children:[Object(W.jsx)(Ye,{to:"/login",children:"Login"}),Object(W.jsx)(Ye,{to:"/register",children:"Register"})]})})]})})};var et=function(){var e=function(){var e=Object(v.a)(p),t=e.data;return e.error,null===t||void 0===t?void 0:t.me}();return Object(W.jsx)(h.a,{children:Object(W.jsxs)("div",{children:[Object(W.jsx)(Ze,{user:e}),Object(W.jsxs)(m.c,{children:[Object(W.jsx)(m.a,{exact:!0,path:"/",component:We}),Object(W.jsx)(m.a,{exact:!0,path:"/register",component:Ge}),Object(W.jsx)(m.a,{exact:!0,path:"/login",component:Je}),Object(W.jsx)(m.a,{exact:!0,path:"/books",component:e?xe:Je}),Object(W.jsx)(m.a,{exact:!0,path:"/authors",component:e?re:Je}),Object(W.jsx)(m.a,{exact:!0,path:"/categories",component:e?ke:Je})]})]})})};var tt=function(){return Object(W.jsx)(d.a,{client:O,children:Object(W.jsx)(et,{})})};a(183);j.a.render(Object(W.jsx)(s.a.StrictMode,{children:Object(W.jsx)(tt,{})}),document.getElementById("root"))}},[[184,1,2]]]);
//# sourceMappingURL=main.4bc483c8.chunk.js.map